{"version":3,"sources":["webpack:///../../../../../src/.internal/plugins/bullets/PointedCircle.ts","webpack:///../../../../../src/.internal/plugins/bullets/PinBullet.ts","webpack:///../../../../../src/.internal/plugins/bullets/FlagBullet.ts","webpack:///../../../../../src/.internal/plugins/bullets/Star.ts","webpack:///./plugins/bullets.js"],"names":["PointedCircle_PointedCircle","_super","PointedCircle","_this","call","this","className","element","paper","add","radius","pointerAngle","applyTheme","tslib_es6","prototype","draw","pw","pointerBaseWidth","pl","pointerLength","angle","x","pointerX","y","pointerY","path","Path","da","utils_Math","Math","atan","a1","a2","Object","defineProperty","getPropertyValue","value","setPropertyValue","getTooltipY","getTooltipX","PointedShape","Registry","registeredClasses","PinBullet_PinBullet","PinBullet","interfaceColors","InterfaceColorSet","circle","createChild","Circle","shouldClone","isMeasured","fill","getFor","Percent","background","fillOpacity","events","on","invalidate","validate","px","py","pa","r","p1","p2","x1","x2","y1","y2","radsq","q","sqrt","cx","cy","width","height","image","attr","preserveAspectRatio","scale","label","_image","_disposers","push","parent","horizontalCenter","verticalCenter","mask","_label","textAlign","dy","copyFrom","source","clone","createBackground","Bullet","FlagBullet_FlagBullet","FlagBullet","waveHeight","waveLength","setWavedSides","strokeOpacity","stroke","pole","Line","Label","padding","poleHeight","updateBackground","bgHeight","pixelHeight","_background","maxLeft","measuredWidth","measuredHeight","abs","maxRight","maxBottom","maxTop","dispose","WavedRectangle","Star_Star","Star","pointCount","arc","innerRadius","cornerRadius","innerCornerRadius","startAngle","pixelInnerRadius","halfAngle","i","p0","replace","Type","setPercentProperty","Utils","Sprite","window","am4plugins_bullets","bullets_namespaceObject"],"mappings":"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","file":"./plugins/bullets.js","sourcesContent":["/**\r\n * Pointed rectangle module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PointedShape, IPointedShapeProperties, IPointedShapeAdapters, IPointedShapeEvents } from \"../../core/elements/PointedShape\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[PointedCircle]].\r\n */\r\nexport interface IPointedCircleProperties extends IPointedShapeProperties {\r\n\r\n\t/**\r\n\t * Radius of a pin, in pixels.\r\n\t *\r\n\t * @default 18\r\n\t */\r\n\tradius?: number;\r\n\r\n\t/**\r\n\t * Angle of a pointer, in degrees.\r\n\t *\r\n\t * @default 90\r\n\t */\r\n\tpointerAngle?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[PointedCircle]].\r\n */\r\nexport interface IPointedCircleEvents extends IPointedShapeEvents { }\r\n\r\n/**\r\n * Defines adapters for [[PointedCircle]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IPointedCircleAdapters extends IPointedShapeAdapters, IPointedCircleProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Draws a circle with a pointer.\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IPointedCircleEvents} for a list of available events\r\n * @see {@link IPointedCircleAdapters} for a list of available Adapters\r\n */\r\nexport class PointedCircle extends PointedShape {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IPointedCircleProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IPointedCircleAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IPointedCircleEvents;\r\n\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"PointedCircle\";\r\n\t\tthis.element = this.paper.add(\"path\");\r\n\t\tthis.radius = 18;\r\n\t\tthis.pointerAngle = 90;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\r\n\t\tlet pw = this.pointerBaseWidth;\r\n\t\tlet pl = this.pointerLength;\r\n\r\n\t\tif (pl <= 0.001) {\r\n\t\t\tpl = 0.001;\r\n\t\t}\r\n\r\n\t\tlet angle = this.pointerAngle + 180;\r\n\t\tlet radius = this.radius;\r\n\r\n\r\n\t\tif (pw > 2 * radius) {\r\n\t\t\tpw = 2 * radius;\r\n\t\t}\r\n\r\n\t\tlet x = this.pointerX;\r\n\t\tlet y = this.pointerY;\r\n\r\n\t\tlet path = $path.moveTo({ x: x, y: x });\r\n\r\n\t\tlet da = $math.DEGREES * Math.atan(pw / 2 / pl);\r\n\r\n\t\tif (da <= 0.001) {\r\n\t\t\tda = 0.001;\r\n\t\t}\r\n\r\n\t\tlet a1 = angle - da;\r\n\t\tlet a2 = angle + da;\r\n\r\n\t\tpath += $path.lineTo({ x: x + pl * $math.cos(a1), y: y + pl * $math.sin(a1) });\r\n\t\tpath += $path.arcToPoint({ x: x + pl * $math.cos(a2), y: y + pl * $math.sin(a2) }, radius, radius, true, true);\r\n\t\tpath += $path.lineTo({ x: x, y: x });\r\n\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of a circle in pixels.\r\n\t *\r\n\t * @default 18\r\n\t * @param  value  Radius (px)\r\n\t */\r\n\tpublic set radius(value: number) {\r\n\t\tthis.setPropertyValue(\"radius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get radius(): number {\r\n\t\treturn this.getPropertyValue(\"radius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Angle of a pointer, in degrees.\r\n\t * \r\n\t * @default 90\r\n\t * @param  value Angle (degrees)\r\n\t */\r\n\tpublic set pointerAngle(value: number) {\r\n\t\tthis.setPropertyValue(\"pointerAngle\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle of a pointer, in degrees.\r\n\t */\r\n\tpublic get pointerAngle(): number {\r\n\t\treturn this.getPropertyValue(\"pointerAngle\");\r\n\t}\r\n\r\n\tpublic getTooltipY(){\r\n\t\treturn $math.sin(this.pointerAngle) * (-this.pointerLength * 0.8 - this.radius) - this.radius;\r\n\t}\r\n\r\n\tpublic getTooltipX(){\r\n\t\treturn $math.cos(this.pointerAngle) * (-this.pointerLength * 0.8 - this.radius);\r\n\t}\t\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PointerCircle\"] = PointedCircle;\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/bullets/PointedCircle.ts","/**\r\n * Bullet module\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet, IBulletProperties, IBulletAdapters, IBulletEvents } from \"../../charts/elements/Bullet\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { PointedCircle } from \"./PointedCircle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { Image } from \"../../core/elements/Image\";\r\nimport { Label } from \"../../core/elements/Label\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[PinBullet]].\r\n */\r\nexport interface IPinBulletProperties extends IBulletProperties { }\r\n\r\n/**\r\n * Defines events for [[PinBullet]].\r\n */\r\nexport interface IPinBulletEvents extends IBulletEvents { }\r\n\r\n/**\r\n * Defines adapters.\r\n * \r\n * Includes both the [[Adapter]] definitions and properties\r\n * \r\n * @see {@link Adapter}\r\n */\r\nexport interface IPinBulletAdapters extends IBulletAdapters, IPinBulletProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a pin-shaped bullet with an optional text label and/or image inside\r\n * it.\r\n *\r\n * The background/body of the flag is a [[PointedCircle]] element. Most of\r\n * its the visual appearance is configured via `background` property.\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * Example:\r\n * \r\n * ```TypeScript\r\n * let series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * let pinBullet = series.bullets.push(new am4plugins_bullets.PinBullet());\r\n * pinBullet.poleHeight = 15;\r\n * pinBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JavaScript\r\n * var series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * var pinBullet = series.bullets.push(new am4plugins_bullets.PinBullet());\r\n * pinBullet.poleHeight = 15;\r\n * pinBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"series\": [{\r\n *     // ...\r\n *     \"bullets\": [{\r\n *       \"type\": \"PinBullet\",\r\n *       \"poleHeight\": 15,\r\n *       \"label\": {\r\n *         \"text\": \"{valueY}\"\r\n *       }\r\n *     }]\r\n *   }]\r\n * }\r\n * ```\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n */\r\nexport class PinBullet extends Bullet {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IPinBulletProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IPinBulletAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IPinBulletEvents;\r\n\r\n\t/**\r\n\t * A [[Circle]] element of the pin. It is used for the \"inside\" of the pin.\r\n\t */\r\n\tpublic circle: Circle;\r\n\r\n\t/**\r\n\t * A type for the background element.\r\n\t */\r\n\tpublic _background: PointedCircle;\r\n\r\n\t/**\r\n\t * Image element.\r\n\t */\r\n\tprotected _image: Image;\r\n\r\n\t/**\r\n\t * Label element.\r\n\t */\r\n\tprotected _label: Label;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.className = \"PinBullet\";\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\r\n\t\tlet circle = this.createChild(Circle);\r\n\t\tcircle.shouldClone = false;\r\n\t\tcircle.isMeasured = false;\r\n\t\tcircle.fill = interfaceColors.getFor(\"background\");\r\n\t\tcircle.radius = percent(85);\r\n\r\n\t\tthis.circle = circle;\r\n\t\tlet background = this.background;\r\n\t\tbackground.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n\t\tbackground.fillOpacity = 1;\r\n\t\tbackground.pointerBaseWidth = 20;\r\n\t\tbackground.pointerLength = 20;\r\n\t\tbackground.radius = 25;\r\n\t\tbackground.events.on(\"propertychanged\", this.invalidate, this, false);\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Validates element:\r\n\t * * Triggers events\r\n\t * * Redraws the element\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate() {\r\n\t\tsuper.validate();\r\n\t\tlet background = this.background;\r\n\r\n\t\tlet px = background.pointerX;\r\n\t\tlet py = background.pointerY;\r\n\t\tlet pl = background.pointerLength;\r\n\t\tlet pw = background.pointerBaseWidth;\r\n\t\tlet pa = background.pointerAngle + 180;\r\n\t\tlet r = background.radius;\r\n\r\n\t\tif (pw > 2 * r) {\r\n\t\t\tpw = 2 * r;\r\n\t\t}\r\n\r\n\t\tlet da = $math.DEGREES * Math.atan(pw / 2 / pl);\r\n\r\n\t\tif (da <= 0.001) {\r\n\t\t\tda = 0.001;\r\n\t\t}\r\n\r\n\t\tlet a1 = pa - da;\r\n\t\tlet a2 = pa + da;\r\n\r\n\t\tlet p1 = { x: px + pl * $math.cos(a1), y: py + pl * $math.sin(a1) };\r\n\t\tlet p2 = { x: px + pl * $math.cos(a2), y: py + pl * $math.sin(a2) };\r\n\r\n\t\tlet x1 = p1.x;\r\n\t\tlet x2 = p2.x;\r\n\r\n\t\tlet y1 = p1.y;\r\n\t\tlet y2 = p2.y;\r\n\r\n\t\tlet radsq = r * r;\r\n\t\tlet q = Math.sqrt(((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\r\n\r\n\t\tlet x3 = (x1 + x2) / 2;\r\n\t\tlet cx = x3 - Math.sqrt(radsq - ((q / 2) * (q / 2))) * ((y1 - y2) / q);\r\n\r\n\t\tlet y3 = (y1 + y2) / 2;\r\n\t\tlet cy = y3 - Math.sqrt(radsq - ((q / 2) * (q / 2))) * ((x2 - x1) / q);\r\n\r\n\t\tif(this.circle){\r\n\t\t\tlet circleRadius = this.circle.radius;\r\n\r\n\t\t\tif (circleRadius instanceof Percent) {\r\n\t\t\t\tthis.circle.width = r * 2;\r\n\t\t\t\tthis.circle.height = r * 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet image = this.image;\r\n\t\tif (image) {\r\n\t\t\timage.x = cx;\r\n\t\t\timage.y = cy;\r\n\t\t\timage.width = r * 2;\r\n\t\t\timage.height = r * 2;\r\n\t\t\timage.element.attr({preserveAspectRatio:\"xMidYMid slice\"})\r\n\t\t\tif(this.circle){\r\n\t\t\t\tthis.circle.scale = 1 / image.scale;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(this.circle){\r\n\t\t\t\tthis.circle.x = cx;\r\n\t\t\t\tthis.circle.y = cy;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet label = this.label;\r\n\t\tif (label) {\r\n\t\t\tlabel.x = cx;\r\n\t\t\tlabel.y = cy;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * An element of type [[Image]] to show inside pin's circle.\r\n\t * \r\n\t * @param  image  Image\r\n\t */\r\n\tpublic set image(image: Image) {\r\n\t\tif (image) {\r\n\t\t\tthis._image = image;\r\n\t\t\tthis._disposers.push(image);\r\n\t\t\timage.shouldClone = false;\r\n\t\t\timage.parent = this;\r\n\t\t\timage.horizontalCenter = \"middle\";\r\n\t\t\timage.verticalCenter = \"middle\";\r\n\r\n\t\t\tif (this.circle) {\r\n\t\t\t\timage.mask = this.circle;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Image\r\n\t */\r\n\tpublic get image(): Image {\r\n\t\treturn this._image;\r\n\t}\r\n\r\n\t/**\r\n\t * A [[Label]] element for displaying within flag.\r\n\t *\r\n\t * Use it's `text` property to set actual text, e.g.:\r\n\t *\r\n\t * ```TypeScript\r\n\t * pinBullet.text = \"Hello\";\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * pinBullet.text = \"Hello\";\r\n\t * ```\r\n\t * ```JSON\r\n\t * {\r\n\t *   // ...\r\n\t *   \"series\": [{\r\n\t *     // ...\r\n\t *     \"bullets\": [{\r\n\t *       \"type\": \"PinBullet\",\r\n\t *       \"label\": {\r\n\t *         \"text\": \"Hello\"\r\n\t *       }\r\n\t *     }]\r\n\t *   }]\r\n\t * }\r\n\t * ```\r\n\t * @param  label  Label\r\n\t */\r\n\tpublic set label(label: Label) {\r\n\t\tif (label) {\r\n\t\t\tthis._label = label;\r\n\t\t\tthis._disposers.push(label);\r\n\t\t\tlabel.shouldClone = false;\r\n\t\t\tlabel.parent = this;\r\n\t\t\tlabel.horizontalCenter = \"middle\";\r\n\t\t\tlabel.verticalCenter = \"middle\";\r\n\t\t\tlabel.textAlign = \"middle\";\r\n\t\t\tlabel.dy = 2;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Label\r\n\t */\r\n\tpublic get label(): Label {\r\n\t\treturn this._label;\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all proprities and related stuff from another instance of\r\n\t * [[PinBullet]].\r\n\t *\r\n\t * @param source  Source element\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tsuper.copyFrom(source);\r\n\t\tif (source.image) {\r\n\t\t\tif (!this._image) {\r\n\t\t\t\tthis.image = source.image.clone();\r\n\t\t\t}\r\n\t\t\tthis._image.copyFrom(source.image);\r\n\t\t}\r\n\t\tif(this.circle && source.circle){\r\n\t\t\tthis.circle.copyFrom(source.circle);\r\n\t\t}\r\n\r\n\t\tif (source.label) {\r\n\t\t\tif (!this._label) {\r\n\t\t\t\tthis.label = source.label.clone();\r\n\t\t\t}\r\n\t\t\tthis._label.copyFrom(source.label);\r\n\t\t}\t\r\n\t}\r\n\r\n\t/**\r\n\t * Creates and returns a background element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return Background\r\n\t */\r\n\tpublic createBackground(): this[\"_background\"] {\r\n\t\treturn new PointedCircle();\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PinBullet\"] = PinBullet;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/bullets/PinBullet.ts","/**\r\n * Flag bullet module.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet, IBulletProperties, IBulletAdapters, IBulletEvents } from \"../../charts/elements/Bullet\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { WavedRectangle } from \"../../core/elements/WavedRectangle\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[FlagBullet]].\r\n */\r\nexport interface IFlagBulletProperties extends IBulletProperties {\r\n\r\n\t/**\r\n\t * Flag pole height in pixels.\r\n\t *\r\n\t * @default 10\r\n\t */\r\n\tpoleHeight?: number;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[FlagBullet]].\r\n */\r\nexport interface IFlagBulletEvents extends IBulletEvents { }\r\n\r\n/**\r\n * Defines adapters.\r\n * \r\n * Includes both the [[Adapter]] definitions and properties.\r\n * @see {@link Adapter}\r\n */\r\nexport interface IFlagBulletAdapters extends IBulletAdapters, IFlagBulletProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a flag-shaped bullet with an optional text label inside it.\r\n *\r\n * The background/body of the flag is a [[WavedRectangle]] element. Most of\r\n * its the visual appearance is configured via `background` property.\r\n *\r\n * The size of a background adopts to the size of a label automatically. If\r\n * you don't want a label to be shown at all, you can set it to `undefined`. In\r\n * this case flag size will be of the `width`/`height` set directly on the\r\n * [[FlagBullet]].\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * Example:\r\n * \r\n * ```TypeScript\r\n * let series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * let flagBullet = series.bullets.push(new am4plugins_bullets.FlagBullet());\r\n * flagBullet.poleHeight = 15;\r\n * flagBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JavaScript\r\n * var series = chart.series.push(new am4charts.LineSeries());\r\n * // ...\r\n * var flagBullet = series.bullets.push(new am4plugins_bullets.FlagBullet());\r\n * flagBullet.poleHeight = 15;\r\n * flagBullet.label.text = \"{valueY}\";\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"series\": [{\r\n *     // ...\r\n *     \"bullets\": [{\r\n *       \"type\": \"FlagBullet\",\r\n *       \"poleHeight\": 15,\r\n *       \"label\": {\r\n *         \"text\": \"{valueY}\"\r\n *       }\r\n *     }]\r\n *   }]\r\n * }\r\n * ```\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n */\r\nexport class FlagBullet extends Bullet {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IFlagBulletProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IFlagBulletAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IFlagBulletEvents;\r\n\r\n\t/**\r\n\t * A type for the background element.\r\n\t */\r\n\tpublic _background: WavedRectangle;\r\n\r\n\t/**\r\n\t * Label element.\r\n\t */\r\n\tprotected _label: Label;\r\n\r\n\t/**\r\n\t * An element of type [[Line]] that represents flag's \"pole\".\r\n\t * \r\n\t * To set actual height of the pole use `poleHeight` property, which\r\n\t * indicates height of the pole in pixels from bottom of the pole to the\r\n\t * bottom of the flag.\r\n\t */\r\n\tpublic pole: Line;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.className = \"FlagBullet\";\r\n\r\n\t\tlet background = this.background;\r\n\t\tbackground.fillOpacity = 1;\r\n\t\tbackground.events.on(\"propertychanged\", this.invalidate, this, false);\r\n\t\tbackground.waveHeight = 1.5;\r\n\t\tbackground.waveLength = 7;\r\n\t\tbackground.setWavedSides(true, false, true, false);\r\n\t\tbackground.strokeOpacity = 1;\r\n\r\n\t\tlet interfaceColors = new InterfaceColorSet();\r\n\t\tthis.stroke = interfaceColors.getFor(\"alternativeBackground\");\r\n\r\n\t\tthis.pole = this.createChild(Line);\r\n\t\tthis.pole.strokeOpacity = 1;\r\n\r\n\t\tthis.width = 22;\r\n\t\tthis.height = 16;\r\n\r\n\t\tlet label = new Label();\r\n\t\tlabel.padding(3, 5, 3, 5);\r\n\t\tlabel.dy = 1;\r\n\t\tlabel.events.on(\"propertychanged\", this.invalidate, this, false);\r\n\t\tlabel.events.on(\"positionchanged\", this.invalidate, this, false);\r\n\t\tlabel.strokeOpacity = 0;\r\n\r\n\t\tthis.label = label;\r\n\r\n\t\tthis.poleHeight = 10;\r\n\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Validates element:\r\n\t * * Triggers events\r\n\t * * Redraws the element\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate() {\r\n\t\tsuper.validate();\r\n\r\n\t\tthis.updateBackground();\r\n\r\n\t\tlet background = this.background;\r\n\r\n\t\tthis.pole.y1 = 0;\r\n\r\n\t\tlet poleHeight = this.poleHeight;\r\n\t\tlet label = this.label;\r\n\t\tlet bgHeight = background.pixelHeight;\r\n\r\n\t\tif (poleHeight > 0) {\r\n\t\t\tthis.pole.y2 = -poleHeight - bgHeight;\r\n\t\t\tif (label) {\r\n\t\t\t\tlabel.y = -poleHeight - bgHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.pole.y2 = -poleHeight + bgHeight;\r\n\t\t\tif (label) {\r\n\t\t\t\tlabel.y = -poleHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (label && label.horizontalCenter == \"middle\") {\r\n\t\t\tthis.pole.y2 = -poleHeight;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Update the background to fit into specific dimensions.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @todo Make it protected?\r\n\t */\r\n\tpublic updateBackground(): void {\r\n\t\tlet background: Sprite = this._background; // accessing protected, as getter creates instance if it doesn't exist\r\n\t\tif (background) {\r\n\r\n\t\t\tlet label = this.label;\r\n\r\n\t\t\tif (label) {\r\n\t\t\t\tbackground.x = label.maxLeft;\r\n\t\t\t\tbackground.width = label.measuredWidth;\r\n\t\t\t\tbackground.height = label.measuredHeight;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbackground.width = Math.abs(this.maxRight - this.maxLeft);\r\n\t\t\t\tbackground.height = Math.abs(this.maxBottom - this.maxTop);\r\n\t\t\t}\r\n\t\t\tlet poleHeight = this.poleHeight;\r\n\t\t\tif (poleHeight > 0) {\r\n\t\t\t\tbackground.y = - poleHeight - background.pixelHeight;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbackground.y = - poleHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * A [[Label]] element for displaying within flag.\r\n\t *\r\n\t * Use it's `text` property to set actual text, e.g.:\r\n\t *\r\n\t * ```TypeScript\r\n\t * flagBullet.text = \"Hello\";\r\n\t * ```\r\n\t * ```JavaScript\r\n\t * flagBullet.text = \"Hello\";\r\n\t * ```\r\n\t * ```JSON\r\n\t * {\r\n\t *   // ...\r\n\t *   \"series\": [{\r\n\t *     // ...\r\n\t *     \"bullets\": [{\r\n\t *       \"type\": \"FlagBullet\",\r\n\t *       \"label\": {\r\n\t *         \"text\": \"Hello\"\r\n\t *       }\r\n\t *     }]\r\n\t *   }]\r\n\t * }\r\n\t * ```\r\n\t * @param  label  Label\r\n\t */\r\n\tpublic set label(label: Label) {\r\n\t\tif (label) {\r\n\t\t\tthis._label = label;\r\n\t\t\tthis._disposers.push(label);\r\n\t\t\tlabel.parent = this;\r\n\t\t\tlabel.shouldClone = false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this._label) {\r\n\t\t\t\tthis._label.dispose();\r\n\t\t\t}\r\n\t\t\tthis._label = label;\r\n\t\t\tthis.invalidate();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return Label\r\n\t */\r\n\tpublic get label(): Label {\r\n\t\treturn this._label;\r\n\t}\r\n\r\n\t/**\r\n\t * Copies all proprities and related stuff from another instance of\r\n\t * [[FlagBullet]].\r\n\t *\r\n\t * @param source  Source element\r\n\t */\r\n\tpublic copyFrom(source: this): void {\r\n\t\tif (source.label) {\r\n\t\t\tthis.label = source.label.clone();\r\n\t\t}\r\n\t\tif (source.pole) {\r\n\t\t\tthis.pole.copyFrom(source.pole);\r\n\t\t}\r\n\t\tsuper.copyFrom(source);\r\n\t}\r\n\r\n\t/**\r\n\t * Creates and returns a background element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return Background\r\n\t */\r\n\tpublic createBackground(): this[\"_background\"] {\r\n\t\treturn new WavedRectangle();\r\n\t}\r\n\r\n\t/**\r\n\t * Flag pole height in pixels.\r\n\t *\r\n\t * @default 10\r\n\t * @param  value  Height (px)\r\n\t */\r\n\tpublic set poleHeight(value: number) {\r\n\t\tthis.setPropertyValue(\"poleHeight\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Height (px)\r\n\t */\r\n\tpublic get poleHeight(): number {\r\n\t\treturn this.getPropertyValue(\"poleHeight\");\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlagBullet\"] = FlagBullet;\r\n\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/bullets/FlagBullet.ts","/**\r\n * Functionality for drawing Stars.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite, ISpriteProperties, ISpriteAdapters, ISpriteEvents } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[Star]].\r\n */\r\nexport interface IStarProperties extends ISpriteProperties {\r\n\r\n\t/**\r\n\t * Radius of the star in pixels.\r\n\t *\r\n\t * @default 100\r\n\t */\r\n\tradius?: number;\r\n\r\n\t/**\r\n\t * Vertical radius for creating skewed star.\r\n\t *\r\n\t * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n\t * the `radius`.\r\n\t */\r\n\tradiusY?: number;\r\n\r\n\t/**\r\n\t * Inner radius of the star, in px or %.\r\n\t */\r\n\tinnerRadius?: number | Percent;\r\n\r\n\t/**\r\n\t * The angle at which left edge of the star is drawn. (0-360)\r\n\t *\r\n\t * 0 is to the right of the center.\r\n\t *\r\n\t * @default -90\r\n\t */\r\n\tstartAngle?: number;\r\n\r\n\t/**\r\n\t * Radius of stars's outer corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t */\r\n\tcornerRadius?: number;\r\n\r\n\t/**\r\n\t * Radius of stars's inner corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t */\r\n\tinnerCornerRadius?: number;\r\n\r\n\t/**\r\n\t * How much of a complete circle the star will complete.\r\n\t *\r\n\t * A complete circle is 350 degrees. If set to 180, only half a star will\r\n\t * be drawn\r\n\t *\r\n\t * @default 360\r\n\t */\r\n\tarc?: number;\r\n\r\n\t/**\r\n\t * Number of points (tips).\r\n\t * \r\n\t * @default 5\r\n\t */\r\n\tpointCount?: number;\r\n}\r\n\r\n/**\r\n * Defines events for [[Star]].\r\n */\r\nexport interface IStarEvents extends ISpriteEvents { }\r\n\r\n/**\r\n * Defines adapters for [[Star]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IStarAdapters extends ISpriteAdapters, IStarProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Used to draw a Star shape.\r\n *\r\n * @since 4.5.7\r\n * @see {@link https://www.amcharts.com/docs/v4/tutorials/plugin-bullets/} for usage instructions.\r\n * @see {@link IStarEvents} for a list of available events\r\n * @see {@link IStarAdapters} for a list of available Adapters\r\n */\r\nexport class Star extends Sprite {\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IStarProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IStarAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IStarEvents;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"Star\";\r\n\t\tthis.pointCount = 5;\r\n\t\tthis.arc = 360;\r\n\t\tthis.radius = 100;\r\n\t\tthis.innerRadius = percent(30);\r\n\t\tthis.cornerRadius = 0;\r\n\t\tthis.innerCornerRadius = 0;\r\n\t\tthis.startAngle = -90;\r\n\r\n\t\tthis.element = this.paper.add(\"path\");\r\n\t\tthis.applyTheme();\r\n\t}\r\n\r\n\t/**\r\n\t * Draws the element.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tsuper.draw();\r\n\r\n\r\n\t\tlet startAngle = this.startAngle;\r\n\t\tlet arc = this.arc;\r\n\t\tlet pointCount = this.pointCount;\r\n\t\tlet radius = this.radius;\r\n\t\tlet innerRadius = this.pixelInnerRadius;\r\n\t\tlet cornerRadius = this.cornerRadius;\r\n\r\n\t\tif (cornerRadius > radius - innerRadius) {\r\n\t\t\tcornerRadius = radius - innerRadius;\r\n\t\t}\r\n\r\n\t\tlet innerCornerRadius = this.innerCornerRadius;\r\n\r\n\t\tif (innerCornerRadius > radius - cornerRadius - innerRadius) {\r\n\t\t\tinnerCornerRadius = radius - cornerRadius - innerRadius;\r\n\t\t}\r\n\r\n\r\n\t\tlet halfAngle = arc / pointCount / 2;\r\n\t\tlet path: string = \"\";\r\n\r\n\t\tfor (let i = 0; i < pointCount; i++) {\r\n\r\n\t\t\tlet angle = startAngle + i * arc / pointCount;\r\n\r\n\t\t\tif (cornerRadius > 0) {\r\n\t\t\t\tlet p0 = { x: innerRadius * $math.cos(angle - halfAngle), y: innerRadius * $math.sin(angle - halfAngle) };\r\n\t\t\t\tlet p1 = { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n\t\t\t\tlet p2 = { x: innerRadius * $math.cos(angle + halfAngle), y: innerRadius * $math.sin(angle + halfAngle) };\r\n\r\n\t\t\t\tlet a1 = $math.getAngle(p1, p0);\r\n\t\t\t\tlet a2 = $math.getAngle(p1, p2);\r\n\r\n\t\t\t\tlet x1 = p1.x + cornerRadius * $math.cos(a1);\r\n\t\t\t\tlet y1 = p1.y + cornerRadius * $math.sin(a1);\r\n\r\n\t\t\t\tlet x2 = p1.x + cornerRadius * $math.cos(a2);\r\n\t\t\t\tlet y2 = p1.y + cornerRadius * $math.sin(a2);\r\n\r\n\t\t\t\tpath += $path.lineTo({ x: x1, y: y1 });\r\n\t\t\t\tpath += \" Q\" + p1.x + \",\" + p1.y + \" \" + x2 + \",\" + y2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpath += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n\t\t\t}\r\n\r\n\t\t\tangle += halfAngle;\r\n\r\n\t\t\tif (innerCornerRadius > 0) {\r\n\t\t\t\tlet p0 = { x: radius * $math.cos(angle - halfAngle), y: radius * $math.sin(angle - halfAngle) };\r\n\t\t\t\tlet p1 = { x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) };\r\n\t\t\t\tlet p2 = { x: radius * $math.cos(angle + halfAngle), y: radius * $math.sin(angle + halfAngle) };\r\n\r\n\t\t\t\tlet a1 = $math.getAngle(p1, p0);\r\n\t\t\t\tlet a2 = $math.getAngle(p1, p2);\r\n\r\n\t\t\t\tlet x1 = p1.x + innerCornerRadius * $math.cos(a1);\r\n\t\t\t\tlet y1 = p1.y + innerCornerRadius * $math.sin(a1);\r\n\r\n\t\t\t\tlet x2 = p1.x + innerCornerRadius * $math.cos(a2);\r\n\t\t\t\tlet y2 = p1.y + innerCornerRadius * $math.sin(a2);\r\n\r\n\t\t\t\tpath += $path.lineTo({ x: x1, y: y1 });\r\n\t\t\t\tpath += \" Q\" + p1.x + \",\" + p1.y + \" \" + x2 + \",\" + y2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpath += $path.lineTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.arc < 360) {\r\n\t\t\tpath += $path.lineTo({ x: 0, y: 0 })\r\n\t\t}\r\n\r\n\t\tpath += $path.closePath();\r\n\r\n\t\tpath = path.replace(\"L\", \"M\");\r\n\r\n\t\tthis.path = path;\r\n\t}\r\n\r\n\t/**\r\n\t * The angle at which left edge of the star is drawn. (0-360)\r\n\t *\r\n\t * 0 is to the right of the center.\r\n\t *\r\n\t * @default -90\r\n\t * @param value  Angle (0-360)\r\n\t */\r\n\tpublic set startAngle(value: number) {\r\n\t\tthis.setPropertyValue(\"startAngle\", $math.normalizeAngle(value), true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Angle (0-360)\r\n\t */\r\n\tpublic get startAngle(): number {\r\n\t\treturn this.getPropertyValue(\"startAngle\");\r\n\t}\r\n\r\n\t/**\r\n\t * How much of a complete circle the star will complete.\r\n\t *\r\n\t * A complete circle is 350 degrees. If set to 180, only half a star will\r\n\t * be drawn\r\n\t *\r\n\t * @default 360\r\n\t * @param  value  Arc scope\r\n\t */\r\n\tpublic set arc(value: number) {\r\n\t\tif (!$type.isNumber(value)) {\r\n\t\t\tvalue = 360;\r\n\t\t}\r\n\t\tthis.setPropertyValue(\"arc\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Arc scope\r\n\t */\r\n\tpublic get arc(): number {\r\n\t\treturn this.getPropertyValue(\"arc\");\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of the star in pixels.\r\n\t *\r\n\t * @default 100\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set radius(value: number) {\r\n\t\tthis.setPropertyValue(\"radius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get radius(): number {\r\n\t\tlet radius: number = this.getPropertyValue(\"radius\");\r\n\t\tif (!$type.isNumber(radius)) {\r\n\t\t\tradius = 0;\r\n\t\t}\r\n\t\treturn radius;\r\n\t}\r\n\r\n\t/**\r\n\t * Vertical radius for creating skewed star shapes.\r\n\t *\r\n\t * This is relevant to `radius`, e.g. 0.5 will set vertical radius to half\r\n\t * the `radius`.\r\n\t *\r\n\t * @param value Vertical radius (0-1)\r\n\t */\r\n\tpublic set radiusY(value: number) {\r\n\t\tthis.setPropertyValue(\"radiusY\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Vertical radius (0-1)\r\n\t */\r\n\tpublic get radiusY(): number {\r\n\t\tlet value: number = this.getPropertyValue(\"radiusY\");\r\n\r\n\t\tif (!$type.isNumber(value)) {\r\n\t\t\tvalue = this.radius;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\t/**\r\n\t * Inner radius of the star (cutout).\r\n\t *\r\n\t * It can be set either by absolute pixel value or relative to radius in\r\n\t * percent.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px or %)\r\n\t */\r\n\tpublic set innerRadius(value: number | Percent) {\r\n\t\tthis.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px or %)\r\n\t */\r\n\tpublic get innerRadius(): number | Percent {\r\n\t\treturn this.getPropertyValue(\"innerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius px\r\n\t */\r\n\tpublic get pixelInnerRadius(): number {\r\n\t\treturn $utils.relativeToValue(this.innerRadius, this.radius);\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of star's outer corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set cornerRadius(value: number) {\r\n\t\tthis.setPropertyValue(\"cornerRadius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get cornerRadius(): number {\r\n\t\treturn this.getPropertyValue(\"cornerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Radius of star's inner corners in pixels.\r\n\t *\r\n\t * @default 0\r\n\t * @param value  Radius (px)\r\n\t */\r\n\tpublic set innerCornerRadius(value: number) {\r\n\t\tthis.setPropertyValue(\"innerCornerRadius\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Radius (px)\r\n\t */\r\n\tpublic get innerCornerRadius(): number {\r\n\t\treturn this.getPropertyValue(\"innerCornerRadius\");\r\n\t}\r\n\r\n\t/**\r\n\t * Number of start points\r\n\t *\r\n\t * @default 5\r\n\t * @param value\r\n\t */\r\n\tpublic set pointCount(value: number) {\r\n\t\tthis.setPropertyValue(\"pointCount\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Number of star points\r\n\t */\r\n\tpublic get pointCount(): number {\r\n\t\tlet value = this.getPropertyValue(\"pointCount\");\r\n\t\treturn $math.max(3, value);\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Star\"] = Star;\n\n\n// WEBPACK FOOTER //\n// ../../../../../src/.internal/plugins/bullets/Star.ts","import * as m from \"../../es2015/plugins/bullets\";\nwindow.am4plugins_bullets = m;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/bullets.js\n// module id = null\n// module chunks = "],"sourceRoot":""}